# Analysis Rationale and Interim Findings

Last updated: 2026-02-11

## Purpose

This note records:

1. Why we structured the first-pass analysis the way we did.
2. What we learned so far from party and Congress-control breakouts.
3. What remains unresolved before stronger claims.

It is a narrative companion to:

- `spec/metrics_v1.yaml`
- `spec/metrics_rationale.md`
- `reports/scoreboard.md` (generated; not committed)

## Why This Framing

Core question: how measured U.S. economic performance differs across presidential party, while checking whether congressional control is a material confounder.

Key design choices and rationale:

- Reproducible public sources only.
  - Every metric should be reproducible from online data via code.
- Multiple metric families, not one headline number.
  - Growth, labor, inflation, markets, recessions, and fiscal outcomes each capture different channels.
- Multiple transforms per family (level, term total, per-year/CAGR).
  - Reduces cherry-picking risk from choosing only one transform.
- Binary Congress control checks.
  - Use unified vs divided and chamber-alignment states to keep cells interpretable.
- Within-president diagnostic.
  - Compare unified vs divided periods within the same president-term to reduce confounding from "which president" or broad era mix.

Important interpretation guardrail:

- Congress can be both confounder and mediator. "Controlling for Congress" is a robustness check, not an automatic causal upgrade.

## What We Learned So Far

These are interim patterns from the current `reports/scoreboard.md`, especially the section:

- `## Within-President Unified vs Divided Check`

Summary:

- The added within-president check is useful (not just cosmetic). It asks: for the same president-term, do metrics differ between unified and divided periods?
- The check is now machine-readable via `reports/within_president_unified_delta_v1.csv` (generated by `rb scoreboard`).
- The check now supports a robustness filter for short windows via `rb scoreboard --within-president-min-window-days N` (default `0`).
- For several macro metrics, unified-minus-divided deltas are directionally similar across parties.
  - Real GDP growth (QoQ annualized) shows positive U-D for both D and R in current output.
  - CPI YoY (NSA) shows negative U-D for both D and R in current output.
- Some market diagnostics are mixed by party (example: Sharpe ratio), indicating the relationship is not one-directional everywhere.
- Cell sizes are small for many metrics (`n(pres with both)` often low), so these are diagnostic signals, not final estimates.

Interpretation:

- Congress alignment appears potentially material for some outcomes.
- The current results do not justify a claim that Congress fully explains party differences.
- The current results also do not justify ruling Congress out.

## What This Check Is (and Is Not)

This check is:

- A robustness test for confounding by congressional control.
- A way to reduce composition bias across different presidents.

This check is not:

- A causal identification strategy.
- A substitute for fully specified uncertainty analysis and robustness reporting.

## Key Decisions From Project History

- Data access stack:
  - Prefer official APIs/sources (FRED API, Ken French, Congress pages) over one-off manual fetches where possible.
  - Keep credentials in `.env`; current pipeline already uses `FRED_API_KEY`.
- Presidential-party source reliability:
  - Avoid relying on Wikidata as a sole truth source for party labels; prefer congressional/official structured sources where possible.
- S&P history handling:
  - Keep modern S&P 500 (1957+) separate from pre-1957 backfilled SPX segment.
  - Do not stitch into one headline series.
- Congress-control framing:
  - Keep binary unified/divided and chamber alignment as primary control views (simplicity and cell-size stability).
- Shock-years concern:
  - Do not hard-code subjective shock exclusions into primary results.
  - If used, treat shock adjustments as explicit sensitivity analyses in a separate section.
- Validation warning interpretation:
  - Coverage warnings are expected when president windows extend earlier than a metric's data history.
  - Treat these as a scope/coverage note unless they reflect broken ingestion or boundary logic.

## Open Risks To Track

- Small-cell instability in within-president checks (`n(pres with both)` can be low).
- Boundary sensitivity for short windows and CAGR edge cases.
- Vintage/revision drift in macro series (results can move across download dates).

## Threshold Sensitivity Snapshot (Within-President U-D)

Using the new filter (`--within-president-min-window-days`), a quick `0/30/90` check shows:

- GDP growth (QoQ annualized) is fairly stable:
  - D mean U-D: `0.471` (unchanged across `0/30/90`)
  - R mean U-D: `1.149` -> `1.149` -> `1.219`
- CPI YoY (NSA) is directionally stable (negative U-D for both parties), with moderate magnitude shifts:
  - D: `-3.269` -> `-3.567` -> `-3.567`
  - R: `-0.251` -> `-0.277` -> `-0.253`
- Market Sharpe is stable for D and modestly shifts for R:
  - D: `-0.231` (unchanged)
  - R: `0.867` -> `0.867` -> `0.944`
- S&P CAGR is sensitive for D:
  - D: `1.197` -> `-9.176` -> `-9.176` (and `n_with_both` drops from `4` to `3`)
  - R: `7.017` -> `6.221` -> `6.876` (still low `n_with_both=2`)

Takeaway:

- Macro flow metrics look more robust to short-window filtering than some level-return metrics.
- For market-level CAGR, short-window handling can materially change inferred sign/magnitude, so this should be explicitly labeled as sensitivity-dependent.

## Permutation Robustness Snapshot

New command:

- `rb randomization`

Current outputs:

- `reports/permutation_party_term_v1.csv` (primary metrics)
- `reports/permutation_unified_within_term_v1.csv` (primary metrics)
- `reports/permutation_party_term_all_v1.csv` (all metrics)
- `reports/permutation_unified_within_term_all_v1.csv` (all metrics)

What it does:

- Term-level test: permutes D/R labels across eligible term observations (optionally within year-blocks) and reports two-sided permutation p-values for observed D-R mean differences.
- Within-president control test: permutes unified/divided assignment within each president-term's regime windows and reports two-sided permutation p-values for mean within-term delta (U-D).
- Both outputs now include Benjamini-Hochberg FDR-adjusted `q_bh_fdr` columns in addition to raw `p_two_sided`.
- Both outputs now include bootstrap 95% confidence intervals (`bootstrap_ci95_low`, `bootstrap_ci95_high`) for the observed estimand.

Early read (all-metrics run):

- Several labor/macro term-level differences have relatively small permutation p-values (for example unemployment change and payroll jobs-per-year).
- Within-president unified/divided results are generally weaker and sample-limited; the smallest p-values often occur in metrics with small `n_presidents_with_both`.
- After BH adjustment (`q_bh_fdr`):
  - Primary-only term-level run: no metric is below `q < 0.05`; strongest are around `q â‰ˆ 0.074` (GDP growth QoQ, payroll jobs total).
  - All-metrics term-level run: several labor/macro metrics are below `q < 0.10` (for example unemployment change and payroll-jobs-per-year), but not below `q < 0.05`.
  - Within-president unified/divided run remains weak after adjustment (no low-q signals; mostly high-q, small-`n` cells).

Interpretation caveats:

- These permutation p-values are exploratory; use `q_bh_fdr` for multiple-testing-aware screening.
- Small-cell metrics can look extreme by chance; treat low-p small-`n` findings as hypotheses to stress-test, not conclusions.
- For screening, prefer `q_bh_fdr` over raw p-values when comparing many metrics at once.

## Immediate Next Steps

1. Decide and document the default published threshold for `within-president-min-window-days` (after sensitivity review).
2. Add a small-`n` reporting threshold policy (for example minimum `n_presidents_with_both`).
3. Decide/report default randomization settings for publication tables (`permutations`, `bootstrap_samples`, `term_block_years`).

## Reproduce Current Outputs

```sh
uv sync
rb ingest --refresh
rb presidents --source congress_legislators --granularity tenure --refresh
rb compute
rb congress --refresh
rb regimes --refresh
rb scoreboard --all-metrics
rb randomization --all-metrics
rb validate
```
